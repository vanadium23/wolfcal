> wolfcal@0.0.0 test
> vitest src/test/


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/home/deploy/src/wolfcal[39m

[90mstdout[2m | src/test/config/transferCrypto.test.ts[2m > [22m[2mtransferCrypto[2m > [22m[2mURL safety[2m > [22m[2mshould produce reasonably compact output for URL use
[22m[39mEncrypted length: [33m351[39m

[90mstdout[2m | src/test/config/transferCrypto.test.ts[2m > [22m[2mtransferCrypto[2m > [22m[2msize reduction[2m > [22m[2mshould produce significantly smaller output than old double-base64 format
[22m[39mNew format size: [33m514[39m
Estimated old format size: [33m2696[39m
Size ratio: 19.1%

[90mstdout[2m | src/test/config/transferCrypto.test.ts[2m > [22m[2mtransferCrypto[2m > [22m[2msize reduction[2m > [22m[2mshould fit within QR code version 40-L limit (2953 bytes)
[22m[39mRealistic config encrypted size: [33m552[39m

[90mstdout[2m | src/test/config/transferCrypto.test.ts[2m > [22m[2mtransferCrypto[2m > [22m[2medge cases[2m > [22m[2mshould handle large payload (stress test)
[22m[39mLarge payload input size: [33m17967[39m
Large payload encrypted size: [33m2300[39m

[90mstdout[2m | src/test/config/transferCrypto.test.ts[2m > [22m[2mtransferCrypto[2m > [22m[2mcompression effectiveness[2m > [22m[2mshould compress repetitive JSON data effectively
[22m[39mRepetitive data size: [33m2018[39m
Compressed + encrypted size: [33m284[39m

 [32mâœ“[39m src/test/config/transferCrypto.test.ts [2m([22m[2m39 tests[22m[2m)[22m[33m 2493[2mms[22m[39m
 [32mâœ“[39m src/test/components/EventForm.test.tsx [2m([22m[2m23 tests[22m[2m)[22m[33m 2276[2mms[22m[39m
[90mstderr[2m | src/test/components/Calendar.test.tsx[2m > [22m[2mCalendar Component[2m > [22m[2mRender[2m > [22m[2mshould render calendar component
[22m[39mAn update to Calendar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/test/components/Calendar.test.tsx[2m > [22m[2mCalendar Component[2m > [22m[2mRender[2m > [22m[2mshould show loading state when loading events
[22m[39mAn update to Calendar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/test/components/Calendar.test.tsx[2m > [22m[2mCalendar Component[2m > [22m[2mRender[2m > [22m[2mshould render view toggle buttons
[22m[39mAn update to Calendar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/test/components/Calendar.test.tsx[2m > [22m[2mCalendar Component[2m > [22m[2mRender[2m > [22m[2mshould render toggle filters button
[22m[39mAn update to Calendar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/test/components/Calendar.test.tsx[2m > [22m[2mCalendar Component[2m > [22m[2mRender[2m > [22m[2mshould render calendar color legend when calendars exist
[22m[39mAn update to Calendar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/test/components/Calendar.test.tsx[2m > [22m[2mCalendar Component[2m > [22m[2mRender[2m > [22m[2mshould not render color legend when no calendars
[22m[39mAn update to Calendar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/test/components/Calendar.test.tsx[2m > [22m[2mCalendar Component[2m > [22m[2mEvent Rendering[2m > [22m[2mshould render events when events are available
[22m[39mAn update to Calendar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/test/components/Calendar.test.tsx[2m > [22m[2mCalendar Component[2m > [22m[2mEvent Rendering[2m > [22m[2mshould render multiple events
[22m[39mAn update to Calendar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/test/components/Calendar.test.tsx[2m > [22m[2mCalendar Component[2m > [22m[2mEvent Rendering[2m > [22m[2mshould not render events when events array is empty
[22m[39mAn update to Calendar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/test/components/Calendar.test.tsx[2m > [22m[2mCalendar Component[2m > [22m[2mCalendar Color Legend[2m > [22m[2mshould display multiple calendars with their colors
[22m[39mAn update to Calendar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/test/components/Calendar.test.tsx[2m > [22m[2mCalendar Component[2m > [22m[2mRefresh Trigger[2m > [22m[2mshould re-render when refreshTrigger prop changes
[22m[39mAn update to Calendar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/test/components/Calendar.test.tsx [2m([22m[2m18 tests[22m[2m)[22m[33m 848[2mms[22m[39m
[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mRender States[2m > [22m[2mshould show syncing state while syncing
[22m[39mManual refresh triggered
Processing offline queue...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mRender States[2m > [22m[2mshould show syncing state while syncing
[22m[39mSyncing 1 accounts...

[90mstderr[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mRender States[2m > [22m[2mshould show syncing state while syncing
[22m[39mAn update to RefreshButton inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mRender States[2m > [22m[2mshould show syncing state while syncing
[22m[39mManual refresh complete

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mRender States[2m > [22m[2mshould be disabled while syncing
[22m[39mManual refresh triggered
Processing offline queue...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mRender States[2m > [22m[2mshould be disabled while syncing
[22m[39mSyncing 1 accounts...

[90mstderr[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mRender States[2m > [22m[2mshould be disabled while syncing
[22m[39mAn update to RefreshButton inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mRender States[2m > [22m[2mshould be disabled while syncing
[22m[39mManual refresh complete

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould process queue first when clicked
[22m[39mManual refresh triggered
Processing offline queue...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould process queue first when clicked
[22m[39mSyncing 1 accounts...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould process queue first when clicked
[22m[39mManual refresh complete

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould sync all accounts after processing queue
[22m[39mManual refresh triggered
Processing offline queue...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould sync all accounts after processing queue
[22m[39mSyncing 2 accounts...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould sync all accounts after processing queue
[22m[39mManual refresh complete

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould call onSyncStart when sync begins
[22m[39mManual refresh triggered
Processing offline queue...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould call onSyncStart when sync begins
[22m[39mSyncing 1 accounts...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould call onSyncStart when sync begins
[22m[39mManual refresh complete

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould call onSyncComplete when sync finishes successfully
[22m[39mManual refresh triggered
Processing offline queue...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould call onSyncComplete when sync finishes successfully
[22m[39mSyncing 1 accounts...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould call onSyncComplete when sync finishes successfully
[22m[39mManual refresh complete

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould call onSyncError when sync fails
[22m[39mManual refresh triggered
Processing offline queue...

[90mstderr[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould call onSyncError when sync fails
[22m[39mManual refresh failed: Error: Sync failed
    at [90m/home/deploy/src/wolfcal/[39msrc/test/components/RefreshButton.test.tsx:219:25
    at [90mfile:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:26
    at [90mfile:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1209:10[90m)[39m
    at [90mfile:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:37
    at Traces.$ [90m(file:///home/deploy/src/wolfcal/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m
    at trace [90m(file:///home/deploy/src/wolfcal/[39mnode_modules/[4mvitest[24m/dist/chunks/test.B8ej_ZHS.js:239:21[90m)[39m
    at runTest [90m(file:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:12[90m)[39m

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould re-enable button after sync completes
[22m[39mManual refresh triggered
Processing offline queue...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould re-enable button after sync completes
[22m[39mSyncing 1 accounts...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould re-enable button after sync completes
[22m[39mManual refresh complete

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould continue syncing other accounts if one fails
[22m[39mManual refresh triggered
Processing offline queue...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould continue syncing other accounts if one fails
[22m[39mSyncing 3 accounts...

[90mstderr[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould continue syncing other accounts if one fails
[22m[39mFailed to sync account account-2: Error: Account 2 failed
    at SyncEngine.<anonymous> [90m(/home/deploy/src/wolfcal/[39msrc/test/components/RefreshButton.test.tsx:271:33[90m)[39m
    at SyncEngine.Mock [as syncAccount] [90m(file:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/spy[24m/dist/index.js:285:34[90m)[39m
    at handleRefresh [90m(/home/deploy/src/wolfcal/[39msrc/components/RefreshButton.tsx:51:28[90m)[39m

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould continue syncing other accounts if one fails
[22m[39mManual refresh complete

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould not trigger sync when already syncing
[22m[39mManual refresh triggered
Processing offline queue...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould not trigger sync when already syncing
[22m[39mSyncing 1 accounts...

[90mstdout[2m | src/test/components/RefreshButton.test.tsx[2m > [22m[2mRefreshButton Component[2m > [22m[2mSync Behavior[2m > [22m[2mshould not trigger sync when already syncing
[22m[39mManual refresh complete

 [32mâœ“[39m src/test/components/RefreshButton.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[33m 597[2mms[22m[39m
[90mstdout[2m | src/test/react-testing-library-validation.test.tsx[2m > [22m[2mReact Testing Library Validation[2m > [22m[2mshould test user interactions, not implementation
[22m[39mManual refresh triggered
Processing offline queue...

[90mstdout[2m | src/test/react-testing-library-validation.test.tsx[2m > [22m[2mReact Testing Library Validation[2m > [22m[2mshould test user interactions, not implementation
[22m[39mSyncing 1 accounts...

[90mstdout[2m | src/test/react-testing-library-validation.test.tsx[2m > [22m[2mReact Testing Library Validation[2m > [22m[2mshould test user interactions, not implementation
[22m[39mManual refresh complete

 [32mâœ“[39m src/test/react-testing-library-validation.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 219[2mms[22m[39m
 [32mâœ“[39m src/test/msw-handlers-validation.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 39[2mms[22m[39m
[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Incremental Sync with New Events[2m > [22m[2mshould fetch events from Google Calendar and store them in IndexedDB
[22m[39mIncremental sync for calendar test-calendar-1 with syncToken

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Incremental Sync with New Events[2m > [22m[2mshould fetch events from Google Calendar and store them in IndexedDB
[22m[39mPruned 0 tombstones outside sync window

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Incremental Sync with New Events[2m > [22m[2mshould fetch events from Google Calendar and store them in IndexedDB
[22m[39mSync complete for calendar test-calendar-1: +1 ~0 -0

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Full Sync (First Time)[2m > [22m[2mshould perform full sync when no syncToken exists
[22m[39mFull sync for calendar test-calendar-1

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Full Sync (First Time)[2m > [22m[2mshould perform full sync when no syncToken exists
[22m[39mPruned 0 tombstones outside sync window

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Full Sync (First Time)[2m > [22m[2mshould perform full sync when no syncToken exists
[22m[39mSync complete for calendar test-calendar-1: +1 ~0 -0

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Event Deletion[2m > [22m[2mshould handle cancelled events from Google Calendar
[22m[39mIncremental sync for calendar test-calendar-1 with syncToken

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Event Deletion[2m > [22m[2mshould handle cancelled events from Google Calendar
[22m[39mPruned 0 tombstones outside sync window

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Event Deletion[2m > [22m[2mshould handle cancelled events from Google Calendar
[22m[39mSync complete for calendar test-calendar-1: +0 ~0 -1

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Event Update[2m > [22m[2mshould update existing events when remote version changes
[22m[39mIncremental sync for calendar test-calendar-1 with syncToken

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Event Update[2m > [22m[2mshould update existing events when remote version changes
[22m[39mPruned 0 tombstones outside sync window

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Event Update[2m > [22m[2mshould update existing events when remote version changes
[22m[39mSync complete for calendar test-calendar-1: +0 ~1 -0

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Multi-Calendar Sync[2m > [22m[2mshould sync all visible calendars for an account
[22m[39mSyncing 2 of 3 visible calendars for account test-account-1

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Multi-Calendar Sync[2m > [22m[2mshould sync all visible calendars for an account
[22m[39mFull sync for calendar cal-1

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Multi-Calendar Sync[2m > [22m[2mshould sync all visible calendars for an account
[22m[39mPruned 0 tombstones outside sync window

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Multi-Calendar Sync[2m > [22m[2mshould sync all visible calendars for an account
[22m[39mSync complete for calendar cal-1: +1 ~0 -0

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Multi-Calendar Sync[2m > [22m[2mshould sync all visible calendars for an account
[22m[39mFull sync for calendar cal-2

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Multi-Calendar Sync[2m > [22m[2mshould sync all visible calendars for an account
[22m[39mPruned 0 tombstones outside sync window

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Multi-Calendar Sync[2m > [22m[2mshould sync all visible calendars for an account
[22m[39mSync complete for calendar cal-2: +1 ~0 -0

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Multi-Calendar Sync[2m > [22m[2mshould sync all visible calendars for an account
[22m[39mAccount sync complete: 2 calendars, +2 ~0 -0 events

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Error Handling[2m > [22m[2mshould log error and update metadata on sync failure
[22m[39mIncremental sync for calendar test-calendar-1 with syncToken

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Error Handling[2m > [22m[2mshould log error and update metadata on sync failure
[22m[39mError logged: sync_failure - API rate limit exceeded

[90mstderr[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Error Handling[2m > [22m[2mshould log error and update metadata on sync failure
[22m[39mSync failed for calendar test-calendar-1: Error: API rate limit exceeded
    at [90m/home/deploy/src/wolfcal/[39msrc/test/sync/sync-engine.test.ts:315:9
    at [90mfile:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:26
    at [90mfile:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1209:10[90m)[39m
    at [90mfile:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:37
    at Traces.$ [90m(file:///home/deploy/src/wolfcal/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m
    at trace [90m(file:///home/deploy/src/wolfcal/[39mnode_modules/[4mvitest[24m/dist/chunks/test.B8ej_ZHS.js:239:21[90m)[39m
    at runTest [90m(file:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:12[90m)[39m

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Error Handling[2m > [22m[2mshould continue syncing other calendars if one fails
[22m[39mSyncing 2 of 2 visible calendars for account test-account-1

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Error Handling[2m > [22m[2mshould continue syncing other calendars if one fails
[22m[39mFull sync for calendar cal-1

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Error Handling[2m > [22m[2mshould continue syncing other calendars if one fails
[22m[39mError logged: sync_failure - Calendar not found

[90mstderr[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Error Handling[2m > [22m[2mshould continue syncing other calendars if one fails
[22m[39mSync failed for calendar cal-1: Error: Calendar not found
    at MockCalendarClient.<anonymous> [90m(/home/deploy/src/wolfcal/[39msrc/test/sync/sync-engine.test.ts:343:17[90m)[39m
    at MockCalendarClient.Mock [as listEvents] [90m(file:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/spy[24m/dist/index.js:285:34[90m)[39m
    at SyncEngine.syncCalendar [90m(/home/deploy/src/wolfcal/[39msrc/lib/sync/engine.ts:332:46[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at SyncEngine.syncAccount [90m(/home/deploy/src/wolfcal/[39msrc/lib/sync/engine.ts:540:26[90m)[39m
    at [90m/home/deploy/src/wolfcal/[39msrc/test/sync/sync-engine.test.ts:362:22
    at [90mfile:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:20

[90mstderr[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Error Handling[2m > [22m[2mshould continue syncing other calendars if one fails
[22m[39mFailed to sync calendar cal-1: Error: Calendar not found
    at MockCalendarClient.<anonymous> [90m(/home/deploy/src/wolfcal/[39msrc/test/sync/sync-engine.test.ts:343:17[90m)[39m
    at MockCalendarClient.Mock [as listEvents] [90m(file:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/spy[24m/dist/index.js:285:34[90m)[39m
    at SyncEngine.syncCalendar [90m(/home/deploy/src/wolfcal/[39msrc/lib/sync/engine.ts:332:46[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at SyncEngine.syncAccount [90m(/home/deploy/src/wolfcal/[39msrc/lib/sync/engine.ts:540:26[90m)[39m
    at [90m/home/deploy/src/wolfcal/[39msrc/test/sync/sync-engine.test.ts:362:22
    at [90mfile:///home/deploy/src/wolfcal/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:20

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Error Handling[2m > [22m[2mshould continue syncing other calendars if one fails
[22m[39mFull sync for calendar cal-2

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Error Handling[2m > [22m[2mshould continue syncing other calendars if one fails
[22m[39mPruned 0 tombstones outside sync window

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Error Handling[2m > [22m[2mshould continue syncing other calendars if one fails
[22m[39mSync complete for calendar cal-2: +1 ~0 -0

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Error Handling[2m > [22m[2mshould continue syncing other calendars if one fails
[22m[39mAccount sync complete: 1 calendars, +1 ~0 -0 events

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Pagination[2m > [22m[2mshould handle paginated responses correctly
[22m[39mIncremental sync for calendar test-calendar-1 with syncToken

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Pagination[2m > [22m[2mshould handle paginated responses correctly
[22m[39mPruned 0 tombstones outside sync window

[90mstdout[2m | src/test/sync/sync-engine.test.ts[2m > [22m[2mSyncEngine - Critical Flows[2m > [22m[2mCritical Flow: Pagination[2m > [22m[2mshould handle paginated responses correctly
[22m[39mSync complete for calendar test-calendar-1: +2 ~0 -0

 [32mâœ“[39m src/test/sync/sync-engine.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m src/test/vitest-msw-validation.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m src/test/config/serializer.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 14[2mms[22m[39m
[90mstdout[2m | src/test/validation/cross-device-config-validation.test.ts[2m > [22m[2mCross-Device Config Validation: QR Code Transfer[2m > [22m[2mshould fit config within 3KB QR code limit
[22m[39mQR Code config size: 788 bytes
Config JSON: 590 bytes
Base64 encoded: 788 bytes

[90mstdout[2m | src/test/validation/cross-device-config-validation.test.ts[2m > [22m[2mCross-Device Config Validation: QR Code Transfer[2m > [22m[2mshould handle multiple accounts within size limit
[22m[39m5-account config size: 1516 bytes

[90mstdout[2m | src/test/validation/cross-device-config-validation.test.ts[2m > [22m[2mCross-Device Config Validation: URL Hash Transfer (Encrypted)[2m > [22m[2mshould base64-encode encrypted data for URL
[22m[39mEncrypted URL-safe length: 58 bytes

[90mstdout[2m | src/test/validation/cross-device-config-validation.test.ts[2m > [22m[2mCross-Device Config Validation: URL Hash Transfer (Encrypted)[2m > [22m[2mshould fit encrypted config within URL hash limits
[22m[39mFull encrypted config URL-safe length: 874 bytes

 [32mâœ“[39m src/test/validation/cross-device-config-validation.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 13[2mms[22m[39m

[2m Test Files [22m [1m[32m10 passed[39m[22m[90m (10)[39m
[2m      Tests [22m [1m[32m154 passed[39m[22m[90m (154)[39m
[2m   Start at [22m 05:14:39
[2m   Duration [22m 15.23s[2m (transform 677ms, setup 1.15s, import 1.43s, tests 6.55s, environment 4.90s)[22m